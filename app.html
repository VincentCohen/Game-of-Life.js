<!DOCTYPE html>
<html>
<head>
    <title>Game of Life</title>
    <style>
        body {
            font-size: 12px;
            font-family: helvetica;
        }

        #platform {
            /*border:1px solid #ddd;*/
            border-top:0;
            display:block;
            margin: 20px auto;
        }
    </style>
</head>
    <body>
        <ol>
            <li>Any live cell with fewer than two live neighbours dies, as if caused by under-population.</li>
            <li>Any live cell with two or three live neighbours lives on to the next generation.</li>
            <li>Any live cell with more than three live neighbours dies, as if by overcrowding.</li>
            <li>Any dead cell with exactly three live neighbours becomes a live cell, as if by reproduction.</li>
        </ol>
        <canvas id="platform" width="800" height="600">
            Oops!.. Your browser does not support canvas.
        </canvas>

        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js" ></script>
        <script src="game-of-life.js"></script>
        <script>
            // requestAnimationFrame() shim by Paul Irish
            // http://paulirish.com/2011/requestanimationframe-for-smart-animating/
            window.requestAnimFrame = (function() {
                return  window.requestAnimationFrame       ||
                        window.webkitRequestAnimationFrame ||
                        window.mozRequestAnimationFrame    ||
                        window.oRequestAnimationFrame      ||
                        window.msRequestAnimationFrame     ||
                        function(/* function */ callback, /* DOMElement */ element){
                            window.setTimeout(callback, 1000 / 60);
                        };
            })();


            var canvas 	= document.getElementById('platform');
            var ctx 	= canvas.getContext('2d');

            var myGameOfLife = new GameOfLife(canvas, ctx, 10);
            myGameOfLife.drawCell(1,1);
            myGameOfLife.drawCell(20,20);
            myGameOfLife.drawCell(30,30);
            myGameOfLife.drawCell(40,40);

            $('#platform').click(function(e)
            {
                var offset = $(this).offset();
                var cellStatus = myGameOfLife.getCellStatus(e.clientX - offset.left, e.clientY - offset.top);

                if (!cellStatus)
                {
                    myGameOfLife.drawCell(e.clientX - offset.left, e.clientY - offset.top);
                }
                else if(cellStatus == 'alive')
                {
//                    myGameOfLife.removeCell(e.clientX - offset.left, e.clientY - offset.top);
                }
            });

            function engine()
            {
                myGameOfLife.lifeCycle();

                requestAnimFrame(engine);
            }

            engine();

        </script>
    </body>
</html>